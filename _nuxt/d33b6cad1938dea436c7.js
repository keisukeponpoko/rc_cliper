(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{136:function(t,e,i){var s=i(141);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i(38).default)("5a299388",s,!0,{sourceMap:!1})},137:function(t,e,i){var s=i(143);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i(38).default)("1ba7d03e",s,!0,{sourceMap:!1})},140:function(t,e,i){"use strict";var s=i(136);i.n(s).a},141:function(t,e,i){(t.exports=i(37)(!1)).push([t.i,"\n.swipe-wrapper[data-v-b72fccd6]{height:420px;position:relative\n}\n.swipe[data-v-b72fccd6]{position:absolute;z-index:1;left:0;right:0;top:0;margin:auto;min-width:300px;max-width:355px\n}\n.swipe-card[data-v-b72fccd6]{position:absolute;height:auto;overflow:hidden;background:#fff;border-radius:1rem;box-shadow:0 .2rem 1rem rgba(0,0,0,.15)\n}\n.v-move[data-v-b72fccd6]{transition:none!important\n}\n.pointer-wrap[data-v-b72fccd6]{pointer-events:none;transition:opacity .2s ease\n}\n.tinder-card.like .like-pointer-wrap[data-v-b72fccd6],.tinder-card.nope .nope-pointer-wrap[data-v-b72fccd6],.tinder-card.super .super-pointer-wrap[data-v-b72fccd6]{opacity:1!important\n}\n.btns[data-v-b72fccd6]{margin:auto;height:80px;display:flex;align-items:center;justify-content:center;min-width:300px;max-width:355px\n}\n.btns img[data-v-b72fccd6]{width:80px\n}\n.nope-pointer[data-v-b72fccd6]{right:10px\n}\n.like-pointer[data-v-b72fccd6]{left:10px\n}\n.like-pointer[data-v-b72fccd6],.nope-pointer[data-v-b72fccd6]{position:absolute;z-index:1;top:20px;width:64px;height:64px\n}\n.super-pointer[data-v-b72fccd6]{position:absolute;z-index:1;bottom:80px;left:0;right:0;margin:auto;width:112px;height:78px\n}\n.pic[data-v-b72fccd6]{width:350px;height:350px;background-size:cover\n}\n.button[data-v-b72fccd6]{margin:0 10px;padding:16px;border-radius:16px;font-size:18px;box-shadow:0 .3rem .3rem 0 rgba(0,0,0,.1);width:130px;font-weight:700\n}\n.button.like[data-v-b72fccd6]{color:#fff;background:#dc3c36\n}\n.button.skip[data-v-b72fccd6]{color:#431;background:#f6f5f4\n}\n.button[data-v-b72fccd6]:hover{opacity:.6\n}",""])},142:function(t,e,i){"use strict";var s=i(137);i.n(s).a},143:function(t,e,i){(t.exports=i(37)(!1)).push([t.i,"\n.contents[data-v-37757f6e]{margin:3rem auto;text-align:center\n}\n.title[data-v-37757f6e]{font-size:20px;color:#000;margin:8rem 0 12rem\n}\n.button[data-v-37757f6e]{color:#fff;background:red;font-size:18px;border-radius:.8rem;padding:1.6rem;text-decoration:none;font-weight:700\n}\n.button[data-v-37757f6e]:hover{opacity:.6\n}",""])},148:function(t,e,i){"use strict";i.r(e);i(25),i(54);var s={props:{queue:{type:Array,required:!0}},data:function(){return{state:{touchId:null,start:{},move:{},startPoint:1,ratio:0,result:null},size:{top:0,width:0,height:0},keyName:"key",status:0}},computed:{nowKey:function(){return 2===this.status?null:this.queue[0]&&this.queue[0][this.keyName]},pointerOpacity:function(){return this.state.ratio/.5},likeOpacity:function(){return this.superOpacity?0:this.pointerOpacity},nopeOpacity:function(){return-this.likeOpacity},superOpacity:function(){return 0}},mounted:function(){this.size={top:this.$el.offsetTop,width:this.$el.offsetWidth,height:350}},methods:{isActiveCard:function(t){return 0===t&&this.queue[t][this.keyName]===this.nowKey},mainCardStyle:function(){var t={zIndex:10,transform:"",transition:""};if(0===this.status)t.transform="scale(1) translate3d(0,0,0) rotate(0deg)",t.transition="all 500ms cubic-bezier(0.175, 0.885, 0.32, 1.275)";else if(1===this.status){var e=this.state,i=e.start,s=e.move,n=e.startPoint,a=s.x-i.x||0,o=s.y-i.y||0,c=a/(.5*this.size.width);e.ratio=c;var r=10*c*n;t.transform="translate3d(".concat(a,"px,").concat(o,"px,").concat(o,"px) rotate(").concat(r,"deg)"),t.transition="none"}return t},benchCardStyle:function(t){if(1===t&&2===this.status||t>1)return{zIndex:-1,opacity:0};var e={zIndex:9,transform:"",transition:""};if(0===this.status)e.transform="scale3d(0.95,0.95,1)",e.transition="all 500ms ease";else if(1===this.status){var i=this.state.ratio;i>1?i=1:i<-1&&(i=-1),e.transform="scale3d(".concat(.05*Math.abs(i)+.95,",").concat(.05*Math.abs(i)+.95,",1)"),e.transition="none"}else 2===this.status&&(e.transform="scale3d(1,1,1)",e.transition="all 500ms cubic-bezier(0.175, 0.885, 0.32, 1.275)");return e},decide:function(t){!this.state.touchId&&0===this.status&&this.nowKey&&(this.state.start={x:0,y:0},this.state.move={x:"super"===t?0:"like"===t?1:-1,y:"super"===t?-1:0},this.state.startPoint=1,this.shiftCard(t))},start:function(t){if(null===this.state.touchId&&2!==this.status){var e,i;"touchstart"===t.type?(e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY):(e=t.clientX,i=t.clientY);var s=i>this.size.top+this.size.height/2?-1:1;this.status=1,this.state={touchId:"touchstart"===t.type?t.changedTouches[0].identifier:"mouse",start:{x:e,y:i},move:Object.create(null),startPoint:s,ratio:0,result:null}}},move:function(t){t.preventDefault();var e,i,s=this.state;null===s.touchId||2===this.status||"touchmove"===t.type&&s.touchId!==t.changedTouches[0].identifier||("touchmove"===t.type?(e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY):(e=t.clientX,i=t.clientY),s.move={x:e,y:i})},end:function(t){if(("touchstart"!==t.type||this.state.touchId===t.changedTouches[0].identifier)&&2!==this.status)if(Math.abs(this.pointerOpacity)>=1||this.superOpacity>=1){var e=this.superOpacity>=1?"super":this.pointerOpacity>0?"like":"nope";this.shiftCard(e)}else this.gone()},gone:function(){this.status=0,this.state={touchId:null,start:{},move:{},startPoint:1,ratio:0,result:null}},shiftCard:function(t){this.status=2,this.state.result=t;var e=this.queue.shift();this.$emit("submit",{type:t,item:e})},leave:function(t,e){var i=this.state,s=i.start,n=i.move,a=i.startPoint,o=n.x-s.x||0,c=n.y-s.y||0;"super"===i.result?c-=this.size.width:c*=(o+=this.size.width*(o<0?-.5:.5))/(n.x-s.x);var r=o/(.5*this.size.width)/1.6*15*a,p=null===i.touchId||"super"===i.result?800:300;t.className+=" ".concat(i.result),t.style.opacity=0,t.style.transform="translate3d(".concat(o,"px,").concat(c,"px,0) rotate(").concat(r,"deg)"),t.style.transition="all ".concat(p,"ms ease"),setTimeout(e,p)}}},n=(i(140),i(14)),a=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%"}},[i("no-ssr",[i("div",{staticClass:"swipe-wrapper"},[i("div",{staticClass:"swipe",on:{touchstart:t.start,touchmove:t.move,touchend:t.end,touchcancel:t.end,mousedown:t.start,mousemove:t.move,mouseup:t.end,mouseout:t.end}},[i("transition-group",{on:{leave:t.leave,afterLeave:t.gone}},t._l(t.queue,function(e,s){return s<2?i("div",{key:e[t.keyName],staticClass:"swipe-card",style:t.isActiveCard(s)?t.mainCardStyle():t.benchCardStyle(s)},[i("div",{staticClass:"pic",style:"background-image:url("+e.url+")"})]):t._e()}))],1)]),t._v(" "),i("div",{staticClass:"btns"},[i("div",{staticClass:"button skip",on:{click:function(e){t.decide("nope")}}},[t._v("\n        スキップ\n      ")]),t._v(" "),i("div",{staticClass:"button like",on:{click:function(e){t.decide("like")}}},[t._v("\n        いいね\n      ")])])])],1)},[],!1,null,"b72fccd6",null);a.options.__file="Swiper.vue";var o={layout:"simple",components:{Swiper:a.exports},data:function(){return{queue:[],types:{WHITE:0,NATURE:1,SCANDINAVIA:2,WEST_COAST:3,SIMPLE:4,COOL:5,MONOTONE:6,CAFE:7,SALT:8},points:{},counts:0}},computed:{popularType:function(){if(console.log(this.counts),this.counts==this.types.length||0==this.counts)return"";var t=0,e=this.types.WHITE;console.log(this.points);for(var i=Object.keys(this.points),s=0;s<i.length;s++){var n=i[s];t<this.points[n]&&(t=this.points[n],e=n)}return e}},created:function(){this.getData();for(var t=Object.keys(this.types),e=0;e<t.length;e++){var i=t[e];this.points[this.types[i]]=0}},methods:{getData:function(){this.queue=this.queue.concat([{key:1,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/8412b653a3af6c26fe73818a3f3542b7f356768d.jpg",points:{0:1,1:2,4:7}},{key:2,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/c12ad0dcca764283f3ef62edf994dc22b0f3e0df.jpg",points:{3:7,5:1,7:2}},{key:3,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/43575d9486982c9c5072856abd6dad5f840d62d6.jpg",points:{1:2,2:5,4:3}},{key:4,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/2305caf87a3f405b3fc785c204a2ce2a2975148e.jpg",points:{0:2,1:5,7:3}},{key:5,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/73db0325d853452338f132f9ff109faff8b4bdbb.jpg",points:{3:8,5:2}},{key:6,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/c46c7505dbc318dd4924739a4973ec32a7a76cec.jpg",points:{0:4,1:4,4:2}},{key:7,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/c96d2601ed7b631a85641515d0b788330805f197.jpg",points:{5:8,7:2}},{key:8,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/5b3990224599c325b686ef9903f87b1b10aabad3.jpg",points:{0:5,4:3,6:2}},{key:9,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/5c59775f8ded9c89cd5924b3aaecc67944d0d101.jpg",points:{1:2,2:4,7:4}},{key:10,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/d2d17ab101e3640dc77ea3b08d39896d16029172.jpg",points:{2:2,6:3,8:5}},{key:11,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/769ade8d6e11efca9a959dfe262d32b1bbe2fca4.jpg",points:{5:3,7:6,8:1}},{key:12,url:"https://cdn.roomclip.jp/v1/640/roomclip-bucket/img_640/50afadcb93044fdcdd99e982226ffc416ac36809.jpg",points:{4:1,6:5,8:4}}])},submit:function(t){var e=t.type,i=t.item;switch(this.queue.length<=0&&this.$router.push("/result/"+this.popularType),e){case"nope":break;case"like":for(var s=Object.keys(i.points),n=0;n<s.length;n++){var a=s[n];this.points[a]+=i.points[a]}this.counts+=1;break;case"super":for(var o=Object.keys(i.points),c=0;c<o.length;c++){var r=o[c];this.points[r]+=2*i.points[r]}}}}},c=(i(142),Object(n.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"contents"},[e("Swiper",{attrs:{queue:this.queue},on:{submit:this.submit}})],1)])},[],!1,null,"37757f6e",null));c.options.__file="swipe.vue";e.default=c.exports}}]);